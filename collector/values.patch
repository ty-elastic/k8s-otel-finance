--- values.yaml	2025-03-30 15:30:34
+++ collector.yaml	2025-03-30 15:29:58
@@ -209,6 +209,35 @@
           tls:
             insecure: true
       processors:
+
+        transform/parse_json_body:
+            error_mode: ignore
+            log_statements:
+              - context: log
+                conditions:
+                  - body != nil and Substring(body, 0, 2) == "{\""
+                statements:
+                  - set(cache, ParseJSON(body))
+                  - flatten(cache, "")
+                  - merge_maps(attributes, cache, "upsert")
+                  - set(time, Time(attributes["timestamp"], "%Y-%m-%dT%H:%M:%SZ"))
+                  - set(severity_text, "TRACE") where attributes["level"] == "trace"
+                  - set(severity_number, 1) where attributes["level"] == "trace"
+                  - set(severity_text, "DEBUG") where attributes["level"] == "debug"
+                  - set(severity_number, 5) where attributes["level"] == "debug"
+                  - set(severity_text, "INFO") where attributes["level"] == "info"
+                  - set(severity_number, 9) where attributes["level"] == "info"
+                  - set(severity_text, "WARN") where attributes["level"] == "warn"
+                  - set(severity_number, 13) where attributes["level"] == "warn"
+                  - set(severity_text, "ERROR") where attributes["level"] == "error"
+                  - set(severity_number, 17) where attributes["level"] == "error"
+                  - set(severity_text, "FATAL") where attributes["level"] == "fatal"
+                  - set(severity_number, 21) where attributes["level"] == "fatal"
+                  - set(body, attributes["message"])
+                  - delete_key(log.attributes, "message")
+                  - delete_key(log.attributes, "timestamp")
+                  - delete_key(log.attributes, "level")
+
         # [Batch Processor](https://github.com/open-telemetry/opentelemetry-collector/tree/main/processor/batchprocessor)
         batch: {}
         # [Resource Detection Processor](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/resourcedetectionprocessor)
@@ -466,6 +495,7 @@
             receivers:
               - filelog
             processors:
+              - transform/parse_json_body
               - batch
               - k8sattributes
               - resourcedetection/system
@@ -506,6 +536,7 @@
             receivers:
               - otlp
             processors:
+              - transform/parse_json_body
               - batch
               - resource/hostname
             exporters:
@@ -937,4 +968,4 @@
   python:
     image: docker.elastic.co/observability/elastic-otel-python:0.3.0
   go:
-    image: ghcr.io/open-telemetry/opentelemetry-go-instrumentation/autoinstrumentation-go:v0.14.0-alpha
+    image: ghcr.io/open-telemetry/opentelemetry-go-instrumentation/autoinstrumentation-go:v0.21.0
